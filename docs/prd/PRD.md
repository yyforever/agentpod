# AgentPod äº§å“éœ€æ±‚æ–‡æ¡£ï¼ˆPRDï¼‰

> ç‰ˆæœ¬ï¼šv0.2 | æ—¥æœŸï¼š2026-02-16
> æ±‡æ€»è‡ªï¼š01-ç”¨æˆ·ä¸å¸‚åœºç ”ç©¶ / 03-ç«å“åˆ†æ / 04-å·¥ç¨‹è®¾è®¡

---

## ä¸€ã€å®šä½ä¸å‡è®¾

### ä¸€å¥è¯å®šä½

**AgentPod æ˜¯ AI Agent çš„äº§å“åŒ–äº¤ä»˜å¹³å°ï¼Œè®©åšå¥½äº† Agent çš„å¼€å‘è€…ä»¥æœ€ä½æˆæœ¬å°†å…¶äº¤ä»˜ç»™ç»ˆç«¯å®¢æˆ·â€”â€”å®¢æˆ·æ‹¿åˆ°çš„æ˜¯å³å¼€å³ç”¨çš„æ•°å­—å‘˜å·¥ã€‚**

### å“ç±»å®šä¹‰

| ç»´åº¦ | è¯´æ˜ |
|------|------|
| **æ˜¯** | Agent-Aware çš„äº§å“åŒ–äº¤ä»˜å¹³å° |
| **ä¸æ˜¯** | é€šç”¨ PaaSï¼ˆCoolifyï¼‰ã€AI å·¥ä½œæµå¹³å°ï¼ˆDifyï¼‰ã€ç™½æ ‡ SaaSï¼ˆStammer.aiï¼‰ã€Kubernetes |
| **ç±»æ¯”** | "Shopify for Digital Employees" â€”â€” å¼€å‘è€…"å¼€åº—"ï¼Œç»ˆç«¯å®¢æˆ·"è·å¾—æ•°å­—å‘˜å·¥" |

### å¸‚åœºåˆ¤æ–­

AI Agent æ­£åœ¨æ”¹å˜ SaaS çš„äº¤ä»˜æ–¹å¼ã€‚æœªæ¥ SaaS ä¸å†æ˜¯"æä¾›ä¸€ä¸ªç½‘ç«™è®©å®¢æˆ·ç™»å½•ä½¿ç”¨"ï¼Œè€Œæ˜¯"ä¸ºå®¢æˆ·éƒ¨ç½²ä¸€ä¸ªèƒ½ç›´æ¥å·¥ä½œçš„æ•°å­—å‘˜å·¥"ã€‚è¶Šæ¥è¶Šå¤šçš„å¼€å‘è€…åœ¨ OpenClaw ä¸Šåšå‡ºäº†å¥½ç”¨çš„ Agentï¼ˆSkillsã€MCPã€çŸ¥è¯†åº“ï¼‰ï¼Œä½†æŠŠå®ƒäº¤ä»˜ç»™å®¢æˆ·â€”â€”ç»™æ¯ä¸ªå®¢æˆ·ç‹¬ç«‹éƒ¨ç½²ä¸€å¥—â€”â€”é—¨æ§›æé«˜ã€‚AgentPod è¦åšçš„å°±æ˜¯æŠŠè¿™ä¸ªé—¨æ§›é™åˆ°æœ€ä½ã€‚

### äº¤ä»˜æ¨¡å‹

```
å¼€å‘è€…ï¼ˆAgentPod è¿è¥æ–¹ï¼‰
  â”‚  é€šè¿‡ AgentPod ç®¡ç†
  â–¼
ç»ˆç«¯å®¢æˆ· A â† æ”¶åˆ°å³å¼€å³ç”¨çš„ Agentï¼ˆå®šåˆ¶åŒ– OpenClaw å®ä¾‹ï¼‰
ç»ˆç«¯å®¢æˆ· B â† æ”¶åˆ°è‡ªå·±çš„ Agent
ç»ˆç«¯å®¢æˆ· C â† æ”¶åˆ°è‡ªå·±çš„ Agent
```

ç»ˆç«¯å®¢æˆ·**ä¸éœ€è¦çŸ¥é“** OpenClawã€Dockerã€AgentPod çš„å­˜åœ¨ã€‚ä»–ä»¬çœ‹åˆ°çš„æ˜¯"æˆ‘çš„æ•°å­—å‘˜å·¥ä¸Šçº¿äº†"ã€‚

---

## äºŒã€ç›®æ ‡ç”¨æˆ·

### æ ¸å¿ƒç”¨æˆ·ï¼šSaaS å¼€å‘è€… / AI è§£å†³æ–¹æ¡ˆå•†

ä½¿ç”¨ AgentPod å°† AI Agentï¼ˆæ•°å­—å‘˜å·¥ï¼‰ä½œä¸ºäº§å“äº¤ä»˜ç»™ä¼ä¸šå®¢æˆ·çš„å›¢é˜Ÿæˆ–ä¸ªäººã€‚

### ä½¿ç”¨é—¨æ§›

AgentPod å±è”½äº† Docker ç½‘ç»œã€Traefik é…ç½®ã€ç«¯å£æ´¾ç”Ÿç­‰åŸºç¡€è®¾æ–½å¤æ‚åº¦ã€‚ç”¨æˆ·åªéœ€è¦ï¼š
- èƒ½åœ¨ VPS / äº‘æœåŠ¡å™¨ä¸Šè¿è¡Œ `docker compose up`
- èƒ½åœ¨ Dashboard ä¸­å¡«å†™è¡¨å•ã€ç‚¹å‡»æŒ‰é’®
- ä¸éœ€è¦æ‡‚ Docker ç½‘ç»œã€åå‘ä»£ç†ã€ç«¯å£ç®¡ç†

### ä¸‰ä¸ªå…¸å‹ Persona

| Persona | è§’è‰² | å›¢é˜Ÿ | å®¢æˆ·è§„æ¨¡ | æ ¸å¿ƒç—›ç‚¹ |
|---------|------|------|----------|----------|
| **èµµæ˜** | AI å®¢æœ SaaS åˆ›å§‹äºº | 3-5 äºº | 10-50 å®¶ï¼ˆæ¯å®¶ 1 Podï¼‰ | 40% æ—¶é—´åœ¨è¿ç»´ï¼Œæ— æ³•æ ‡å‡†åŒ–äº¤ä»˜ |
| **æå¨œ** | æ•°å­—åŒ–æœåŠ¡å•†æŠ€æœ¯æ€»ç›‘ | 8-15 äºº | 5-20 å®¶ï¼ˆæ¯å®¶ 2-5 Podï¼‰ | 60 ä¸ªå®¹å™¨é€ä¸ªå‡çº§ï¼Œé…ç½®ç®¡ç†æ··ä¹± |
| **ç‹é¹** | ç‹¬ç«‹å¼€å‘è€…/AI ä»£ç†å•† | 1 äºº | 3-10 ä¸ª | 4GB VPS ç«¯å£å†²çªï¼Œæ²¡æ—¶é—´å†™è„šæœ¬ |

### ä¸æœåŠ¡çš„ç”¨æˆ·

- ä¸ªäºº AI ç©å®¶ï¼ˆå•å®ä¾‹ Docker Compose è¶³å¤Ÿï¼‰
- å¤§å‹ä¼ä¸š IT éƒ¨é—¨ï¼ˆæœ‰èƒ½åŠ›è‡ªå»º K8sï¼‰

> è¯¦è§ [01-user-and-market-research.md](./01-user-and-market-research.md)

---

## ä¸‰ã€æ ¸å¿ƒæ¦‚å¿µï¼šTenant ä¸ Pod

AgentPod é‡‡ç”¨ **Tenant â†’ Pod** ä¸¤å±‚æ¨¡å‹ï¼š

| æ¦‚å¿µ | å«ä¹‰ | å…³ç³» |
|------|------|------|
| **Tenant** | ä¸€ä¸ªå®¢æˆ·/ç»„ç»‡ | 1 Tenant = N Pod |
| **Pod** | ä¸€ä¸ªç‹¬ç«‹çš„ Agent å®¹å™¨å®ä¾‹ | æ¯ä¸ª Pod æ˜¯ä¸€ä¸ª OpenClaw å®ä¾‹ |

---

## å››ã€æ ¸å¿ƒåœºæ™¯

### P0 åœºæ™¯ï¼ˆMust Haveï¼‰

| åœºæ™¯ | å½“å‰ç—›ç‚¹ | AgentPod è§£æ³• | éªŒæ”¶æ ‡å‡† |
|------|---------|--------------|----------|
| **S1: åˆ›å»º Tenant å’Œ Pod** | 12 æ­¥æ‰‹åŠ¨æ“ä½œï¼Œæ— æ³•æ ‡å‡†åŒ–äº¤ä»˜ | `agentpod tenant create` + `agentpod pod create` | ç«¯å£/Volume/Traefik/è¯ä¹¦/Token å…¨éƒ¨è‡ªåŠ¨åŒ–ï¼Œ< 3 åˆ†é’Ÿï¼›ç»ˆç«¯å®¢æˆ·æ”¶åˆ°å³å¼€å³ç”¨çš„ Agent |
| **S2: æŸ¥çœ‹è¿è¡ŒçŠ¶æ€** | `docker ps` + `docker logs` é€ä¸ªæŸ¥çœ‹ | Dashboard ç»Ÿä¸€è§†å›¾ + CLI `agentpod pod list` | æŒ‰ Tenant åˆ†ç»„æ˜¾ç¤ºæ‰€æœ‰ Pod çŠ¶æ€/å¥åº·/èµ„æº |
| **S3: æ•…éšœè‡ªåŠ¨æ¢å¤** | ä¾èµ–äººå·¥å‘ç°ï¼ˆå…¨éƒ¨ Personaï¼šæå¨œæœ‰ SLA è¦æ±‚ï¼Œèµµæ˜/ç‹é¹ç¼ºè¿ç»´å¸¦å®½ï¼‰ | Reconciliation Loop æ¯ 30s æ£€æµ‹ + è‡ªåŠ¨æ¢å¤ | å®¹å™¨å´©æºƒå 30s å†…è‡ªåŠ¨æ‹‰èµ·ï¼›è¿ç»­ 3 æ¬¡å¤±è´¥è§¦å‘å‘Šè­¦ |

### P1 åœºæ™¯ï¼ˆShould Haveï¼‰

| åœºæ™¯ | å½“å‰ç—›ç‚¹ | AgentPod è§£æ³• |
|------|---------|--------------|
| **S4: è¿ç§»å·²æœ‰å®ä¾‹** | æ‰‹åŠ¨é‡å»º = åœæœ + æ•°æ®ä¸¢å¤± | `agentpod migrate discover` + `adopt`ï¼Œé›¶ä¸­æ–­è¿ç§» |
| **S5: æ‰¹é‡å‡çº§ç‰ˆæœ¬** | é€ä¸ªåœæ­¢/åˆ é™¤/é‡å»º | `agentpod pod upgrade --all` æ»šåŠ¨å‡çº§ |
| **S6: æŒ‰å®¢æˆ·é…ç½® LLM å’Œé€šé“** | æ¯ä¸ª openclaw.json æ‰‹åŠ¨ç¼–è¾‘ | Dashboard Pod é…ç½®é¡µ + åŠ å¯†å­˜å‚¨ |
| **S7: èµ„æºé™åˆ¶** | æ— é™åˆ¶ï¼Œnoisy neighbor é£é™© | åˆ›å»ºæ—¶è‡ªåŠ¨è®¾ç½® CPU/å†…å­˜ä¸Šé™ |

### P2 åœºæ™¯ï¼ˆCould Haveï¼‰

| åœºæ™¯ | è¯´æ˜ |
|------|------|
| S8: å®¢æˆ·çº§ API ç”¨é‡ç»Ÿè®¡ | è¿½è¸ªæ¯ä¸ª Tenant çš„ LLM API è°ƒç”¨é‡å’Œæˆæœ¬ |
| S9: å¤‡ä»½ä¸æ¢å¤ | Volume å¿«ç…§ + ä¸€é”®æ¢å¤ |

> è¯¦è§ [01-user-and-market-research.md](./01-user-and-market-research.md)

---

## äº”ã€ç—›ç‚¹ä¼˜å…ˆçº§

### Gate 0ï¼šæŠ€æœ¯å¯è¡Œæ€§éªŒè¯ï¼ˆç¼–ç å‰å¿…é¡»å®Œæˆï¼‰

PP-03ï¼ˆBridge ç½‘ç»œ WebSocket é…å¯¹é—®é¢˜ï¼‰æ˜¯æ•´ä¸ªå¤šç§Ÿæˆ·æ–¹æ¡ˆçš„æŠ€æœ¯å‰æï¼Œä¸å‚ä¸ ICE æ’åºã€‚

| éªŒè¯å†…å®¹ | æˆåŠŸæ ‡å‡† | å¤±è´¥åº”å¯¹ |
|----------|----------|----------|
| Traefik åä»£ä¸‹ WebSocket æ¡æ‰‹ | æ—  "pairing required" é”™è¯¯ | é™çº§åˆ° host ç½‘ç»œ + ç«¯å£æ˜ å°„ |

### ICE è¯„åˆ†ï¼ˆGate 0 é€šè¿‡åï¼ŒæŒ‰åˆ†æ•°é™åºï¼‰

| æ’å | ç—›ç‚¹ | ICE åˆ† | MVP çº³å…¥ |
|------|------|--------|----------|
| 1 | ç«¯å£åˆ†é…å†²çª | 640 | âœ… Must |
| 2 | çŠ¶æ€ç›®å½•éš”ç¦» | 640 | âœ… Must |
| 3 | æ‰‹åŠ¨ Docker ç¼–æ’ | 630 | âœ… Must |
| 4 | æ— è‡ªåŠ¨æ•…éšœæ¢å¤ | 504 | âœ… Must |
| 5 | èµ„æºé™åˆ¶ç¼ºå¤± | 504 | âœ… Should |
| 6 | Token é›†ä¸­ç®¡ç† | 500 | âœ… Should |
| 7 | æ— ç»Ÿä¸€ç›‘æ§è§†å›¾ | 384 | âœ… Must |
| 8 | HTTPS è¯ä¹¦ç®¡ç† | 336 | âœ… Should |
| 9 | é…ç½®ç®¡ç†æ··ä¹± | 245 | âœ… Should |
| 10 | ç‰ˆæœ¬å‡çº§å›°éš¾ | 210 | âœ… Should |

**æœ€å°å¯ç”¨é—¨æ§›**ï¼šæ’å 1-4 + 7 æ„æˆæ ¸å¿ƒä»·å€¼é—­ç¯ï¼ˆè‡ªåŠ¨åˆ›å»º + éš”ç¦» + æ¢å¤ + ç›‘æ§ï¼‰ï¼ŒMustã€‚Token è‡ªåŠ¨ç”Ÿæˆå·²å«åœ¨è‡ªåŠ¨åˆ›å»ºæµç¨‹ä¸­ã€‚

> è¯¦è§ [01-user-and-market-research.md](./01-user-and-market-research.md)

---

## å…­ã€å·®å¼‚åŒ–å®šä½

### ä¸ºä»€ä¹ˆä¸ç”¨ Xï¼Ÿ

| æ›¿ä»£æ–¹æ¡ˆ | AgentPod çš„ä¼˜åŠ¿ |
|----------|-----------------|
| **Docker Compose + Traefik** | æ‰‹åŠ¨æ–¹æ¡ˆåœ¨ 5 ç§Ÿæˆ·å†…å¤Ÿç”¨ã€‚10+ ç§Ÿæˆ· AgentPod ä»·å€¼æ˜¾ç°ï¼šæ ‡å‡†åŒ–äº¤ä»˜ + è‡ªåŠ¨æ¢å¤ + ç»Ÿä¸€ç›‘æ§ |
| **Coolify** | ä¸æ”¯æŒç«¯å£èŒƒå›´æ˜ å°„ã€ä¸ç†è§£ openclaw.jsonã€WebSocket æœ‰å·²çŸ¥é—®é¢˜ |
| **Kubernetes** | å­¦ä¹ æ›²çº¿ 6-12 æœˆã€æœ€ä½ 3 èŠ‚ç‚¹ â€”â€” å¯¹ 3-15 äººå›¢é˜Ÿæ˜¯å¤§ç‚®æ‰“èšŠå­ |
| **ç™½æ ‡å¹³å°** | SaaS æ‰˜ç®¡æ¨¡å¼ï¼ˆæ•°æ®åœ¨ä¾›åº”å•†å¤„ï¼‰vs AgentPod è‡ªæ‰˜ç®¡æ¨¡å¼ï¼ˆæ•°æ®æ§åˆ¶æƒ + OpenClaw å®Œæ•´èƒ½åŠ›ï¼‰ |

### æ ¸å¿ƒå·®å¼‚

**Coolify çŸ¥é“ä½ è·‘äº†ä¸€ä¸ªå®¹å™¨ï¼›AgentPod çŸ¥é“ä½ è·‘äº†ä¸€ä¸ªä¼šè¯´è¯çš„æ•°å­—å‘˜å·¥ã€‚**

Agent-Aware æ„å‘³ç€ï¼š
- è‡ªåŠ¨è®¡ç®—ç«¯å£æ´¾ç”Ÿï¼ˆbase â†’ base+2, base+9~108ï¼‰
- æ ¹æ® Tenant/Pod å‚æ•°ç”Ÿæˆ openclaw.json
- é€šè¿‡ WebSocket heartbeat æ£€æŸ¥ Gateway å¥åº·ï¼ˆè€Œéç®€å• HTTP 200ï¼‰
- ç†è§£é€šé“çŠ¶æ€ï¼ˆWhatsApp sessionã€Telegram bot tokenï¼‰

> è¯¦è§ [03-competitive-analysis.md](./03-competitive-analysis.md)

---

## ä¸ƒã€æŠ€æœ¯æ¶æ„

### ä¸‰å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Layer 1: Dashboardï¼ˆNext.js 15ï¼‰          â”‚
â”‚ ç®¡ç†ç•Œé¢ï¼šTenant/Pod åˆ—è¡¨ã€åˆ›å»ºã€é…ç½®ã€ç›‘æ§â”‚
â”‚ NextAuth v5 å•ç®¡ç†å‘˜è®¤è¯                  â”‚
â”‚ SSE å®æ—¶çŠ¶æ€æ›´æ–°                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Layer 2: Control Planeï¼ˆHono APIï¼‰        â”‚
â”‚ ç‹¬ç«‹ Node.js è¿›ç¨‹                        â”‚
â”‚ REST APIï¼ˆTenant/Pod CRUDã€é…ç½®ç®¡ç†ï¼‰      â”‚
â”‚ Reconciliation Engineï¼ˆæ¯ 30s è°ƒå’Œï¼‰      â”‚
â”‚ å¥åº·æ£€æŸ¥å™¨                               â”‚
â”‚ PostgreSQL çŠ¶æ€å­˜å‚¨                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Layer 3: Data Plane                      â”‚
â”‚ Traefik v3ï¼ˆåå‘ä»£ç†ï¼ŒDocker è‡ªåŠ¨å‘ç°ï¼‰    â”‚
â”‚ Agent å®¹å™¨ï¼ˆPod:acme/agent, Pod:mega/csï¼‰ â”‚
â”‚ æ¯ Pod ç‹¬ç«‹ Docker Volume                â”‚
â”‚ Bridge ç½‘ç»œï¼šagentpod-net                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å››å±‚ä»£ç æ¶æ„ï¼ˆé—­ç¯å·¥ç¨‹ï¼‰

```
Harnessï¼ˆCLIï¼‰â†’ Shellï¼ˆDashboard/APIï¼‰â†’ Coreï¼ˆçº¯é€»è¾‘ï¼‰â†’ Servicesï¼ˆå¤–éƒ¨ä¾èµ–ï¼‰
```

- **Harness**ï¼š`agentpod tenant/pod/health/doctor/migrate` â€”â€” Agent ç›´æ¥éªŒè¯çš„å…¥å£
- **Shell**ï¼šDashboard + REST API â€”â€” ä»…åš I/O
- **Core**ï¼šReconciler / TenantManager / PodManager / PortAllocator â€”â€” 100% å¯æµ‹è¯•çš„çº¯é€»è¾‘
- **Services**ï¼šDocker API / PostgreSQL / Traefik â€”â€” é€šè¿‡ interface éš”ç¦»ï¼Œå¯ mock

### CLI-First åŸåˆ™

æ‰€æœ‰åŠŸèƒ½å…ˆå®ç° CLI å‘½ä»¤ï¼Œå†åš Dashboard UIï¼š
- CLI è¾“å‡ºå¯ pipeã€å¯ diffã€å¯æ–­è¨€ â†’ å¤©ç„¶é—­ç¯
- AI Agent å‹å¥½ï¼ˆé›¶ä¸Šä¸‹æ–‡æˆæœ¬ï¼‰
- Dashboard æ˜¯ CLI çš„ GUI æ˜ å°„ï¼Œä¸æ˜¯ç‹¬ç«‹åŠŸèƒ½å±‚

> è¯¦è§ [04-engineering-design.md](./04-engineering-design.md)

---

## å…«ã€åŠŸèƒ½éœ€æ±‚ï¼ˆMoSCoWï¼‰

### Must Haveï¼ˆMVP å¿…é¡»ï¼‰

| åŠŸèƒ½ | æè¿° | CLI å‘½ä»¤ |
|------|------|---------|
| **Tenant åˆ›å»º/åˆ é™¤** | åˆ›å»ºå®¢æˆ·è®°å½• | `agentpod tenant create/delete` |
| **Pod åˆ›å»º** | è‡ªåŠ¨åˆ†é…ç«¯å£ã€Volumeã€Traefik è·¯ç”±ã€Tokenï¼Œå¯åŠ¨ OpenClaw å®¹å™¨ | `agentpod pod create <tenant>/agent` |
| **Pod åˆ é™¤** | åœæ­¢å®¹å™¨ã€æ¸…ç† Volumeã€æ³¨é”€è·¯ç”± | `agentpod pod delete <tenant>/agent` |
| **Pod åˆ—è¡¨** | æ˜¾ç¤ºæ‰€æœ‰ Pod çŠ¶æ€ã€å¥åº·ã€èµ„æºç”¨é‡ | `agentpod pod list` |
| **Tenant çŠ¶æ€** | æŒ‰ Tenant èšåˆæ˜¾ç¤º Pod ä¿¡æ¯ | `agentpod tenant status <id>` |
| **Reconciliation Loop** | æ¯ 30s å¯¹æ¯”æœŸæœ›/å®é™…çŠ¶æ€ï¼Œè‡ªåŠ¨åˆ›å»º/é‡å¯/æ¸…ç†å®¹å™¨ | `agentpod reconcile` |
| **å¥åº·æ£€æŸ¥** | HTTP + WebSocket heartbeat åŒé‡æ£€æµ‹ | `agentpod health` |
| **ç³»ç»Ÿè¯Šæ–­** | æ£€æŸ¥ Dockerã€PostgreSQLã€Traefik ä¾èµ–æ˜¯å¦å°±ç»ª | `agentpod doctor` |
| **Dashboard åŸºç¡€** | Tenant/Pod åˆ—è¡¨ + åˆ›å»ºè¡¨å• + çŠ¶æ€æ¦‚è§ˆ | Web UI |
| **ç®¡ç†å‘˜è®¤è¯** | å•ç®¡ç†å‘˜ç™»å½• | NextAuth v5 |

### Should Haveï¼ˆMVP æœŸæœ›ï¼‰

| åŠŸèƒ½ | æè¿° |
|------|------|
| **è¿ç§»å·¥å…·** | `agentpod migrate discover/adopt`ï¼Œé›¶ä¸­æ–­å¯¼å…¥å·²æœ‰ OpenClaw å®¹å™¨ |
| **èµ„æºé™åˆ¶** | åˆ›å»º Pod æ—¶è®¾ç½® CPU/å†…å­˜ä¸Šé™ |
| **HTTPS è‡ªåŠ¨åŒ–** | Traefik ACME è‡ªåŠ¨ç­¾å‘ Let's Encrypt è¯ä¹¦ |
| **Pod é…ç½®ç®¡ç†** | Dashboard ä¸­ç¼–è¾‘ LLM Providerã€é€šé“ç»‘å®šç­‰ |
| **äº‹ä»¶æ—¥å¿—** | è®°å½•æ‰€æœ‰æ“ä½œï¼ˆcreate/delete/restart/errorï¼‰ |
| **å‘Šè­¦é€šçŸ¥** | æ•…éšœæ¢å¤å¤±è´¥æ—¶é€šè¿‡ Webhook é€šçŸ¥ |
| **æ»šåŠ¨å‡çº§** | `agentpod pod upgrade --all` é€ä¸ªå‡çº§ï¼Œæ”¯æŒæŒ‰ Tenant æ‰¹é‡æ“ä½œ |
| **Token é›†ä¸­ç®¡ç†** | Dashboard ä¸­æŸ¥çœ‹/è½®æ¢æ‰€æœ‰ Pod çš„ Gateway Tokenï¼ˆè‡ªåŠ¨ç”Ÿæˆå·²å«åœ¨ Pod åˆ›å»ºæµç¨‹ä¸­ï¼‰ |

### Could Haveï¼ˆåç»­è¿­ä»£ï¼‰

| åŠŸèƒ½ | æè¿° |
|------|------|
| **API ç”¨é‡ç»Ÿè®¡** | æŒ‰ Tenant è¿½è¸ª LLM API è°ƒç”¨é‡ |
| **å¤‡ä»½/æ¢å¤** | Volume å¿«ç…§ + ä¸€é”®æ¢å¤ |
| **å¤šèŠ‚ç‚¹** | SSH åˆ°è¿œç¨‹æœåŠ¡å™¨ç®¡ç†å®¹å™¨ |

### Won't Haveï¼ˆMVP ä¸åšï¼‰

| åŠŸèƒ½ | åŸå›  |
|------|------|
| å¤š Agent ç±»å‹æ”¯æŒ | MVP åªæ”¯æŒ OpenClaw |
| å†…ç½®è®¡è´¹ç³»ç»Ÿ | ä¸æ˜¯ AgentPod çš„æ ¸å¿ƒä»·å€¼ |
| ç™½æ ‡å®šåˆ¶ | é¢å‘å¼€å‘è€…ï¼Œä¸éœ€è¦ç»ˆç«¯ç”¨æˆ·å“ç‰Œ |
| Kubernetes æ”¯æŒ | ç›®æ ‡ç”¨æˆ·ä¸ç”¨ K8s |

---

## ä¹ã€éåŠŸèƒ½éœ€æ±‚

| ç»´åº¦ | è¦æ±‚ |
|------|------|
| **æ€§èƒ½** | å•æœºæ”¯æ’‘ 50 ä¸ª Pod å®¹å™¨ï¼›Reconcile å‘¨æœŸ 30sï¼›Dashboard é¦–å± < 2s |
| **å¯é æ€§** | å®¹å™¨å´©æºƒ 30s å†…è‡ªåŠ¨æ¢å¤ï¼›æ§åˆ¶é¢å´©æºƒä¸å½±å“å·²è¿è¡Œçš„ Agent å®¹å™¨ |
| **å®‰å…¨** | PostgreSQL RLS ç§Ÿæˆ·éš”ç¦»ï¼›API Key åŠ å¯†å­˜å‚¨ï¼›Gateway Token è‡ªåŠ¨ç”Ÿæˆ |
| **èµ„æº** | Control Plane + Dashboard + Traefik + PostgreSQL è‡ªèº«å¼€é”€ < 1GB RAM |
| **éƒ¨ç½²** | `docker compose up -d` ä¸€é”®å¯åŠ¨å…¨å¥— |
| **å…¼å®¹** | Node.js 22+ï¼›Docker 24+ï¼›PostgreSQL 16+ï¼›Traefik v3 |

---

## åã€æ ¸å¿ƒå‡è®¾ä¸éªŒè¯

### å‰ç½®éªŒè¯ï¼ˆGate 0ï¼Œç¼–ç å‰å¿…é¡»å®Œæˆï¼‰

| ID | å‡è®¾ | éªŒè¯æ–¹æ³• | å¤±è´¥åº”å¯¹ |
|----|------|----------|----------|
| **TH-1** | Traefik èƒ½æ­£ç¡®è½¬å‘ WebSocket åˆ° Bridge ç½‘ç»œä¸­çš„ OpenClaw | PoCï¼š1 Traefik + 1 OpenClaw + Bridge ç½‘ç»œ | header é…ç½® â†’ allowedOrigins â†’ allowInsecureAuth â†’ é‡æ–°è¯„ä¼°æ¶æ„ |

### æŠ€æœ¯å‡è®¾ï¼ˆå¼€å‘ä¸­éªŒè¯ï¼‰

| ID | å‡è®¾ | ç½®ä¿¡åº¦ | éªŒè¯æ–¹æ³• |
|----|------|--------|----------|
| TH-2 | 4GB VPS å¯è¿è¡Œ 20 ä¸ª OpenClaw å®¹å™¨ | ğŸŸ¡ ä¸­ | å‹æµ‹ |
| TH-3 | Reconciliation 30s å‘¨æœŸæ— æ€§èƒ½ç“¶é¢ˆ | ğŸŸ¢ é«˜ | å•å…ƒæµ‹è¯• + å‹æµ‹ |
| TH-4 | dockerode å¯ç¨³å®šç®¡ç† 50+ å®¹å™¨ | ğŸŸ¢ é«˜ | é›†æˆæµ‹è¯• |
| TH-5 | PostgreSQL RLS å¯¹ 100 Tenant æŸ¥è¯¢ < 10ms | ğŸŸ¢ é«˜ | åŸºå‡†æµ‹è¯• |

### äº§å“å‡è®¾ï¼ˆå‘å¸ƒåéªŒè¯ï¼‰

| ID | å‡è®¾ | ç½®ä¿¡åº¦ | éªŒè¯æ–¹æ³• |
|----|------|--------|----------|
| PH-1 | SaaS å¼€å‘è€…ä¸ºå®¢æˆ·éƒ¨ç½²å¤šä¸ª OpenClaw å®ä¾‹æ˜¯çœŸå®éœ€æ±‚ | ğŸŸ¡ ä¸­ | GitHub Stars + Issue |
| PH-2 | å¼€å‘è€…æ„¿æ„ä»æ‰‹åŠ¨è„šæœ¬è¿ç§» | ğŸŸ¡ ä¸­ | PR å‚ä¸åº¦ |
| PH-3 | Dashboard æ¯”çº¯ CLI æ›´æœ‰å¸å¼•åŠ› | ğŸŸ¡ ä¸­ | ä½¿ç”¨æ•°æ® |

---

## åä¸€ã€å¼€å‘è·¯çº¿å›¾

### Phase 0: PoC éªŒè¯ï¼ˆWeek 0, 2 å¤©ï¼‰

- éªŒè¯ TH-1ï¼šWebSocket + Traefik + Bridge ç½‘ç»œ
- **Gate**ï¼šé€šè¿‡ â†’ Phase 1ï¼›å¤±è´¥ â†’ é™çº§æ–¹æ¡ˆè¯„ä¼°

### Phase 1: æ ¸å¿ƒå¼•æ“ï¼ˆWeek 1-2ï¼‰

- Monorepo æ­å»ºï¼ˆTurborepo + pnpmï¼‰
- Core å±‚ï¼šReconciler + TenantManager + PodManager + PortAllocator
- Services å±‚ï¼šDocker API + PostgreSQL schema
- Harness å±‚ï¼š`agentpod tenant/pod/health/doctor/reconcile`
- OpenClaw Adapter å®ç°
- **é—­ç¯éªŒè¯**ï¼š`tenant create â†’ pod create â†’ pod status â†’ kill â†’ auto-recover â†’ pod delete` å…¨æµç¨‹ CLI é€šè¿‡

### Phase 2: Dashboardï¼ˆWeek 3-4ï¼‰

- Next.js App Router + shadcn/ui + NextAuth v5
- Tenant/Pod åˆ—è¡¨ / åˆ›å»º / è¯¦æƒ…é¡µ
- SSE å®æ—¶çŠ¶æ€æ›´æ–°
- **é—­ç¯éªŒè¯**ï¼šCLI åˆ›å»º â†’ Dashboard å®æ—¶æ˜¾ç¤ºï¼›Dashboard åˆ›å»º â†’ CLI åŒæ­¥

### Phase 3: ç¨³å®šæ€§ä¸å‘å¸ƒï¼ˆWeek 5-6ï¼‰

- å¥åº·æ£€æŸ¥ï¼ˆHTTP + WebSocket heartbeatï¼‰
- èµ„æºç›‘æ§ï¼ˆdocker stats èšåˆï¼‰
- äº‹ä»¶æ—¥å¿—
- `docker compose` ä¸€é”®éƒ¨ç½²
- README + å¿«é€Ÿå¼€å§‹æ–‡æ¡£
- **é—­ç¯éªŒè¯**ï¼šå…¨æ–° VPS ä¸Š `docker compose up` â†’ åˆ›å»º 3 ä¸ª Tenant å„ 1 Pod â†’ æ¨¡æ‹Ÿæ•…éšœ â†’ è‡ªåŠ¨æ¢å¤

---

## åäºŒã€é£é™©ä¸ç¼“è§£

| é£é™© | æ¦‚ç‡ | å½±å“ | ç¼“è§£ç­–ç•¥ |
|------|------|------|----------|
| **TH-1 å¤±è´¥**ï¼šWebSocket + Bridge ç½‘ç»œä¸é€š | ä¸­ | è‡´å‘½ | é™çº§æ–¹æ¡ˆ A/B/C/Dï¼ˆè¯¦è§ 01 æ–‡æ¡£ Gate 0ï¼‰ |
| **OpenClaw API å˜æ›´**ï¼šä¸Šæ¸¸é‡æ„ç ´å Adapter | ä½ | é«˜ | Adapter interface æŠ½è±¡ï¼›é”å®š OpenClaw ç‰ˆæœ¬ |
| **å¸‚åœºéœ€æ±‚ä¸è¶³**ï¼šæ²¡æœ‰è¶³å¤Ÿå¤šçš„äº§å“åŒ–äº¤ä»˜åœºæ™¯ç”¨æˆ· | ä¸­ | é«˜ | MVP å¿«é€ŸéªŒè¯ï¼ˆ6 å‘¨ï¼‰ï¼›Core å±‚å¯å¤ç”¨äºå…¶ä»– Agent |
| **å•æœºç“¶é¢ˆ**ï¼š50+ å®¹å™¨è¶…å‡ºå• VPS èƒ½åŠ› | ä½ | ä¸­ | Phase 2 åè¯„ä¼°å¤šèŠ‚ç‚¹æ–¹æ¡ˆ |
| **å®‰å…¨æ¼æ´**ï¼šå®¹å™¨é€ƒé€¸æˆ–è·¨ Tenant æ•°æ®æ³„æ¼ | ä½ | è‡´å‘½ | RLS + ç½‘ç»œéš”ç¦» + æœ€å°æƒé™ + å®‰å…¨å®¡è®¡ |

### é€€è·¯ï¼ˆPlan Bï¼‰

å¦‚æœ AgentPod æ•´ä½“æ–¹å‘éªŒè¯å¤±è´¥ï¼ˆPH-1 ä¸æˆç«‹ï¼‰ï¼ŒCore å±‚çš„ä»¥ä¸‹ç»„ä»¶å¯ç‹¬ç«‹å¤ç”¨ï¼š
- Reconciliation Engine â†’ é€šç”¨ Docker å®¹å™¨ç¼–æ’åº“
- Port Allocator â†’ Docker ç«¯å£ç®¡ç†å·¥å…·
- OpenClaw Adapter â†’ OpenClaw éƒ¨ç½²è‡ªåŠ¨åŒ–è„šæœ¬

---

## é™„å½•ï¼šæ–‡æ¡£ç´¢å¼•

| æ–‡æ¡£ | å†…å®¹ |
|------|------|
| [01-user-and-market-research.md](./01-user-and-market-research.md) | ç”¨æˆ·ç”»åƒã€ç—›ç‚¹éªŒè¯ã€ICE è¯„åˆ†ã€æ ¸å¿ƒåœºæ™¯ã€ç”¨æˆ·æ—…ç¨‹ã€ç»ˆç«¯å®¢æˆ·ä½“éªŒã€å‡è®¾æ¸…å• |
| [03-competitive-analysis.md](./03-competitive-analysis.md) | ç«å“èƒ½åŠ›çŸ©é˜µã€"ä¸ºä»€ä¹ˆä¸ç”¨ X"ã€å·®å¼‚åŒ–å®šä½ |
| [04-engineering-design.md](./04-engineering-design.md) | é—­ç¯å·¥ç¨‹æ–¹æ³•è®ºã€CLI-First è®¾è®¡ã€æµ‹è¯•ç­–ç•¥ã€CI åˆ†å±‚ã€äº¤ä»˜å¥‘çº¦ |
